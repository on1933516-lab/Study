# Service Studio 学習メモ

## Service Studio とは

Service Studio ＝ OutSystems のローコード・ビジュアル開発環境。

 - アプリを記述し、Platform Server にデプロイする
 - ローカルでは実行しない（実行はすべてサーバー側）
 - UI／ロジック／データモデルをまとめて開発・更新できる

 ■ 以下が可能

 - **モジュール（機能のまとまり）** 内でデータモデルを定義
 - Web/モバイル向け UI（HTML/CSS を含む）を作成
 - ロジックやビジネスプロセス（段階的な処理フロー）を定義
 - アプリの作成・編集・更新・パブリッシュ・サーバー上でのデバッグ
 - OutSystems Forge から既存アプリやコンポーネント（ライブラリ）のインストール

## Service Studio の各タブ（レイヤー構造）
### ■ Processes タブ

  ビジネスフローやバックグラウンド処理を扱うレイヤー

  ● Processes

   - ビジネスプロセス（承認フローなど）
   - 手動／自動のタスク
   - 判断・イベント・待機時間などが含まれる

  ● Timers

   - 指定した時刻に実行されるサーバーアクション
   - 複数実行や優先度の設定も可能

### ■ Interface タブ

  UI に関する要素を管理するレイヤー

   - UI Flows：画面・パターン・ブロック
   - Images：グラフィックやアイコン
   - Themes：アプリ全体のルック＆フィール
   - Scripts：JavaScript リソース

### ■ Logic タブ

  クライアント／サーバーの処理ロジックを管理するレイヤー

   - Client Actions：ブラウザやモバイルデバイス側で実行
   - Server Actions：サーバー側で実行
   - 連携（Integrations）：外部システムとの連携を可能にするロジック要素
     - SOAP Web サービス
     - RESTful サービス
   - Roles：セキュリティを管理
     - Anonymous（匿名）
     - Registered（ログイン済み）
     - カスタムロール
   - Exceptions：例外
     - DatabaseException
     - Security Exception
     - User Exception

### ■ Data タブ

  データ定義やデータ保持に関するレイヤー

   - エンティティ（＝テーブル）
   - エンティティ図
   - ストラクチャ（＝カラム構造）
   - クライアント変数：ユーザー固有のデータ（クライアント側）
   - サイトプロパティ：アプリ全体で共有するサーバー上のデータ
   - Resources：その他のリソースファイル

## UI 開発画面（特徴）

 - 中央：画面のライブプレビュー（キャンバス）
 - 左側：ツールボックス（UI 要素一覧）
 - Breadcrumb：要素の階層移動
 - Widget Tree：画面構造のツリー表示

## ロジック開発画面（特徴）

 - 中央：ロジックのビジュアルフロー
 - 左側：ロジックフローに使用する要素（ツールボックス）

## Service Studio の利用手順
① 実行ファイルのダウンロード

https://www.outsystems.com/downloads

② インストール

③ 環境/サーバーに接続(オンプレミス／クラウドどちらも可。)

④ サーバー上のアプリ一覧が表示される

⑤ アプリを開いて作業開始

Develop タブ：

 - アプリを構成するモジュール
 - 依存関係にある他のアプリ

Distribute タブ（モバイルのみ）：

 - ネイティブアプリや PWA(プログレッシブWebアプリ) の生成
   
   PWA(プログレッシブWebアプリ)の特徴
    - ホーム画面にアイコン追加できる(ネイティブアプリのように “インストール” できる)
    - Service Workerでオフライン時も動き、表示が速い
    - プッシュ通知が使える

⑥ モジュールを開くとローコードの要素構造が表示される

⑦ Workspace タブ

 - モジュールの各レイヤーとツール一覧が表示
 - メインエディタで UI／ロジックフローを定義

✔ TrueChange

 - モジュールの整合性チェック
 - “有効なモジュールだけ” サーバーにパブリッシュできる

✔ Module メニュー

 - 環境切り替え（別サーバーへ移動）

## 補足：OutSystems のデプロイ仕組み

OutSystems サーバーがコード生成〜コンパイル〜デプロイまで担当。

アプリは IIS などのアプリケーションサーバーへデプロイ

DB も自動的に更新し、ロジック・データモデルの整合性を維持

## Publish（パブリッシュ）の流れ

Service Center にアプリ定義がアップロードされる

Platform Server が新バージョンとして Platform Database に保存

コード生成・コンパイル

アプリケーションサーバーへデプロイ

必要な DB 更新を実施（同期も保証）

## バージョン管理

 - Open Other Version で旧バージョンに切り替え可能
 - 複数人作業時の競合(いずれかを選択可能。)
     - 自分の変更を優先して上書き
     - 自動マージ
     - 手動比較
